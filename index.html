<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Ujicoba </title>
    <link rel="stylesheet" href="./style.css">

  </head>
    
  <body>
  <!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>AntiScam ID</title>

  <style>

    body {

      margin: 0;

      background: #1e1f22;

      color: #f2f3f5;

      font-family: "Segoe UI", sans-serif;

    }

    #topbar {

      height: 55px;

      background: #2b2d31;

      display: flex;

      align-items: center;

      justify-content: space-between;

      padding: 0 15px;

      border-bottom: 1px solid #111;

    }

    .logo { font-size: 22px; font-weight: bold; color: #fff; }

    .searchContainer {

      background: #1a1b1e;

      padding: 8px 12px;

      border-radius: 20px;

      display: flex;

      align-items: center;

      gap: 6px;

      width: 150px;

    }

    .searchContainer input {

      background: transparent;

      border: none;

      outline: none;

      color: white;

      width: 100%;

      font-size: 14px;

    }

    .dropdown {

      background: #1a1b1e;

      color: white;

      border-radius: 15px;

      font-size: 12px;

      padding: 4px;

      border: 1px solid #333;

    }

    .navbar {

      position: fixed;

      bottom: 0;

      left: 0;

      width: 100%;

      height: 70px;

      background: #232428;

      display: flex;

      justify-content: space-around;

      align-items: center;

      border-top: 1px solid #111;

    }

    .navbtn {

      text-align: center;

      font-size: 12px;

      color: #c2c2c2;

      display: flex;

      flex-direction: column;

      align-items: center;

      gap: 4px;

    }

    .navbtn img { width: 22px; opacity: 0.7; }

    .active { color: #5865f2; }

    .active img { opacity: 1; }

    .page { display: none; padding: 20px; }

    .show { display: block; }

    .card {

      background: #2b2d31;

      padding: 15px;

      border-radius: 12px;

      margin-bottom: 15px;

      border: 1px solid #111;

    }

    .input {

      width: 100%;

      background: #1a1b1e;

      border: none;

      padding: 10px;

      border-radius: 8px;

      color: white;

      margin-bottom: 10px;

    }

    .btn {

      width: 100%;

      padding: 12px;

      background: #5865f2;

      border: none;

      border-radius: 8px;

      color: white;

      font-size: 16px;

      cursor: pointer;

    }

    #loginPage {

      display: flex;

      justify-content: center;

      align-items: center;

      height: 100vh;

      flex-direction: column;

      gap: 15px;

      background: #1e1f22;

    }

    .loginbox {

      background: #2b2d31;

      padding: 25px;

      border-radius: 15px;

      width: 85%;

      max-width: 350px;

      text-align: center;

      box-shadow: 0 0 20px #0007;

    }

    .googleBtn {

      width: 100%;

      background: #ffffff;

      color: #000;

      padding: 10px;

      border-radius: 8px;

      font-weight: bold;

      margin-top: 10px;

    }

  </style>

</head>

<body>

<div id="loginPage">

  <div class="loginbox">

    <h2 style="margin-top:0; color:white;">AntiScam ID</h2>

    <input id="userInput" class="input" placeholder="Username" />

    <input id="passInput" class="input" type="password" placeholder="Password" />

    <button class="btn" onclick="login()">Login</button>

    <button class="googleBtn" onclick="anonLogin()">Masuk tanpa akun</button>

  </div>

</div>

<div id="app" style="display:none;">

  <div id="topbar">

    <div class="logo">ASID</div>

    <select id="searchMode" class="dropdown">

      <option value="nama">Nama</option>

      <option value="nomor">Nomor</option>

    </select>

    <div class="searchContainer">

      <input id="search" placeholder="Cari..." />

    </div>

  </div>

  <div id="homePage" class="page show">

    <div class="card">

      <h3>AntiScam ID</h3>

      <p>Bagikan pengalamanmu agar orang lain tidak tertipu lagi!</p>

    </div>

    <div id="posts"></div>

  </div>

  <div id="uploadPage" class="page">

    <div class="card">

      <h3>Upload Cerita Penipuan</h3>

      <input id="upName" class="input" placeholder="Nama pelaku" />

      <input id="upNum" class="input" placeholder="Nomor telepon" />

      <textarea id="upDesc" class="input" placeholder="Deskripsi lengkap modus" style="height:100px"></textarea>

      <input id="upImg" type="file" class="input" accept="image/*" multiple />

      <p style="font-size:12px;color:#aaa;margin-top:-5px;">Maksimal 10 screenshot bukti</p>

      <button class="btn" onclick="uploadPost()">Kirim Laporan</button>

    </div>

  </div>

  <div id="profilePage" class="page">

    <div class="card" style="text-align:center; padding:25px;">

      <img id="profImg" src="https://cdn-icons-png.flaticon.com/512/847/847969.png" style="width:80px; opacity:0.9; margin-bottom:15px; border-radius:50%;" />

      <input type="file" id="changePhoto" accept="image/*" style="display:none;" onchange="changePhoto(event)" />

      <button class="btn" style="margin-bottom:15px;" onclick="document.getElementById('changePhoto').click()">Ganti Foto Profil</button>

      <h2 style="margin:0;">Profil</h2>

      <p id="profUser"></p>

      <p id="profRole"></p>

    </div>

  </div>

</div>

<div class="navbar">

  <div class="navbtn active" onclick="openPage('home')"><img src="https://cdn-icons-png.flaticon.com/512/1946/1946436.png" />Home</div>

  <div class="navbtn" onclick="openPage('upload')"><img src="https://cdn-icons-png.flaticon.com/512/1828/1828817.png" />Upload</div>

  <div class="navbtn" onclick="openPage('profile')"><img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" />You</div>

</div>

<script>

let user = null;

let posts = [];

function login(){

  const u = document.getElementById('userInput').value.trim();

  const p = document.getElementById('passInput').value.trim();

  if(!u || !p){ alert('Isi dulu bosku'); return; }

  if(u === 'adminn' && p === 'Pw000333000'){

    user = { username: u, role: 'admin' };

  } else {

    user = { username: u, role: 'user' };

  }

  showApp();

}

function anonLogin(){

  user = { username: 'nonim', role: 'anon' };

  showApp();

}

function showApp(){

  document.getElementById('loginPage').style.display = 'none';

  document.getElementById('app').style.display = 'block';

  document.getElementById('profUser').innerText = "Username: " + user.username;

  document.getElementById('profRole').innerText =

    "Peran: " + (user.role === 'admin' ? "Admin"

              : user.role === 'anon' ? "⚠️ Nonim / Berwaspada!!!"

              : "Pengguna");

}

function openPage(p){

  document.querySelectorAll('.page').forEach(pg => pg.classList.remove('show'));

  document.querySelectorAll('.navbtn').forEach(n => n.classList.remove('active'));

  document.getElementById(p + 'Page').classList.add('show');

  event.currentTarget.classList.add('active');

  document.getElementById('topbar').style.display = (p === 'home' ? 'flex' : 'none');

}

function uploadPost(){

  if(user.role === 'anon'){ alert('Akun nonim tidak dapat upload laporan.'); return; }

  const n = document.getElementById('upName').value;

  const num = document.getElementById('upNum').value;

  const d = document.getElementById('upDesc').value;

  const files = document.getElementById('upImg').files;

  if(!n || !num || !d){ alert('Lengkapi semua kolom'); return; }

  if(files.length > 10){ alert('Maksimal 10 gambar'); return; }

  let imgs = [];

  for(let i=0;i<files.length;i++){ imgs.push(URL.createObjectURL(files[i])); }

  posts.push({name:n, number:num, desc:d, imgs:imgs, status:'pending'});

  renderPosts();

  alert('Laporan dikirim dan menunggu review admin.');

}

function renderPosts(){

  let box = document.getElementById('posts');

  box.innerHTML = '';

  posts.forEach((p,i) => {

    let imgTags = '';

    if(p.imgs){ p.imgs.forEach(src=>{ imgTags += `<img src='${src}' style='width:100%;border-radius:8px;margin-top:6px;'/>`; }); }

    box.innerHTML += `

      <div class='card'>

        <h3>${p.name} ${p.status==='pending' ? '(Menunggu)' : ''}</h3>

        <p><b>Nomor:</b> ${p.number}</p>

        <p>${p.desc}</p>

        ${imgTags}

        ${user.role==='admin' ? `

          <button onclick='approve(${i})' class='btn' style='background:#2d7d46;margin-top:10px;'>Setujui</button>

          <button onclick='reject(${i})' class='btn' style='background:#a12f2f;margin-top:10px;'>Hapus</button>

        `:''}

      </div>`;

  });

}

function approve(i){ posts[i].status='approved'; renderPosts(); }

function reject(i){ posts.splice(i,1); renderPosts(); }

function changePhoto(event){

  const file = event.target.files[0];

  if(file){

    const reader = new FileReader();

    reader.onload = function(e){

      document.getElementById('profImg').src = e.target.result;

    };

    reader.readAsDataURL(file);

  }

}

</script>

</body>

</html>

<footer style="text-align:center; font-size:13px; color:#aaa; padding:20px; background:#1a1b1e; margin-top:40px;">

  <p><b>AntiScam ID</b> dibuat untuk membantu mencegah penipuan (scam) di Indonesia dengan menyediakan

  informasi mengenai nomor dan identitas yang pernah dilaporkan terlibat dalam aktivitas ilegal.</p>

  

  <p>Jika Anda merasa data Anda muncul di sini padahal Anda tidak melakukan tindakan penipuan,

  atau Anda telah berhenti dari aktivitas tersebut namun identitas Anda masih tersebar,

  silakan hubungi admin melalui DM Instagram: <b>@pirmanww</b>.</p>

  

  <p>Admin akan memberikan instruksi dan syarat yang diperlukan untuk proses verifikasi data.

  Nomor WhatsApp admin saat ini tidak aktif.</p>

</footer>
    <script  src="./script.js"></script>

  </body>
  
</html>
